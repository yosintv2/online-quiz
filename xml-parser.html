<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>XML Parser Tool - Free Online XML to JSON Converter</title>
    <meta name="description" content="A free online XML Parser tool to parse and convert XML code to JSON or view as a tree structure. Supports manual input or file upload, with copy-to-clipboard and download functionality. Works on all devices.">
    <meta name="keywords" content="xml parser, xml to json converter, free xml parser tool, online xml parser, xml code parser, xml parser online, parse xml online, xml to json tool, xml structure viewer, xml data parser, online xml to json converter, xml file parser, xml tree viewer, xml code analyzer, xml parsing tool">
    <meta name="robots" content="index, follow">
    <meta name="author" content="XML Parser Tool Team">
    <meta property="og:title" content="XML Parser Tool - Free Online XML to JSON Converter">
    <meta property="og:description" content="Parse and convert your XML code to JSON or view as a tree structure with our free online tool. Supports manual input or file upload, with copy-to-clipboard and download functionality. Works on all devices.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.singhyogendra.com.np/xml-parser">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="XML Parser Tool - Free Online XML to JSON Converter">
    <meta name="twitter:description" content="Parse and convert your XML code to JSON or view as a tree structure with our free online tool. Supports manual input or file upload, with copy-to-clipboard and download functionality. Works on all devices.">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        @media (max-width: 640px) {
            .action-btn {
                font-size: 0.875rem;
                padding: 0.5rem;
            }
        }
        .copy-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            background: #dc2626;
            color: #fff;
            padding: 0.75rem 1.25rem;
            border-radius: 0.5rem;
            font-size: 0.85rem;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
            z-index: 2000;
            white-space: nowrap;
            pointer-events: none;
        }
        .copy-popup.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }
        .about-heading {
            background-color: #f3f4f6; /* Tailwind's bg-gray-100 */
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
        }
    </style>
</head>
<body class="bg-gray-50 font-inter min-h-screen flex flex-col items-center justify-center p-4 sm:p-6 md:p-8">
    <div class="bg-white rounded-xl shadow-lg p-4 sm:p-6 md:p-8 w-full max-w-4xl">
        <!-- Header Section -->
        <header class="text-center mb-6 sm:mb-8">
            <div class="flex items-center justify-center mb-4">
                <i class="fas fa-code text-red-600 text-2xl sm:text-3xl md:text-4xl mr-3"></i>
                <h1 class="text-xl sm:text-2xl md:text-3xl font-bold text-gray-800">XML Parser Tool</h1>
            </div>
            <p class="text-xs sm:text-sm md:text-base text-gray-600">Parse and convert your XML code to JSON or view as a tree structure with this free online tool. Supports manual input or file upload, with copy and download options. Compatible with all devices.</p>
        </header>

        <!-- XML Parser Form and Results -->
        <section class="mb-6 sm:mb-8">
            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                <form onsubmit="return false;">
                    <div class="flex flex-wrap gap-2 mb-4">
                        <button type="button" id="manualBtn" class="action-btn w-full sm:w-1/3 md:w-1/5 bg-red-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-red-700 transition flex items-center justify-center text-xs sm:text-sm md:text-base active">Manual Input</button>
                        <button type="button" id="uploadBtn" class="action-btn w-full sm:w-1/3 md:w-1/5 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition flex items-center justify-center text-xs sm:text-sm md:text-base">Upload File</button>
                    </div>
                    <input type="file" id="fileInput" accept=".xml" class="hidden">
                    <label class="block text-xs sm:text-sm md:text-base font-semibold text-gray-800 mb-2" id="inputLabel">Enter XML Code</label>
                    <textarea id="inputText" placeholder='Enter XML code (e.g., <?xml version="1.0"?><root><item>value</item></root>)' class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition text-xs sm:text-sm md:text-base h-32 resize-y font-mono"></textarea>
                    <div class="flex flex-wrap gap-2 mt-4">
                        <button type="button" id="parseBtn" class="action-btn w-full sm:w-1/3 md:w-1/5 bg-red-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-red-700 transition flex items-center justify-center text-xs sm:text-sm md:text-base">
                            <i class="fas fa-cogs mr-2"></i>
                            Parse
                        </button>
                        <button type="button" id="copyBtn" class="action-btn w-full sm:w-1/3 md:w-1/5 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700 transition flex items-center justify-center text-xs sm:text-sm md:text-base">
                            <i class="fas fa-copy mr-2"></i>
                            Copy Result
                        </button>
                        <button type="button" id="downloadBtn" class="action-btn w-full sm:w-1/3 md:w-1/5 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition flex items-center justify-center text-xs sm:text-sm md:text-base">
                            <i class="fas fa-download mr-2"></i>
                            Download
                        </button>
                        <button type="button" id="resetBtn" class="action-btn w-full sm:w-1/3 md:w-1/5 bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-purple-700 transition flex items-center justify-center text-xs sm:text-sm md:text-base" title="Reset form">
                            <i class="fas fa-undo mr-2"></i>
                            Reset
                        </button>
                    </div>
                </form>
                <div class="mt-4">
                    <label class="block text-xs sm:text-sm md:text-base font-semibold text-gray-800 mb-2">Parsed Result (JSON)</label>
                    <textarea id="resultText" readonly class="w-full p-2 border border-gray-300 rounded-lg bg-gray-100 text-xs sm:text-sm md:text-base h-32 resize-y font-mono" placeholder="Parsed XML as JSON will appear here..."></textarea>
                    <p id="errorMessage" class="text-xs sm:text-sm md:text-base text-red-600 mt-2 hidden">Error: Invalid XML input. Please check your code.</p>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section class="mt-8 sm:mt-12">
            <h2 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-800 mb-4 sm:mb-6 about-heading">About XML Parser Tool</h2>
            <article class="mb-6">
                <h3 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-2">What is the XML Parser Tool?</h3>
                <p class="text-xs sm:text-sm md:text-base text-gray-600">
                    The XML Parser Tool is a free online utility that parses XML code and converts it to a JSON object or displays its structure as a tree. This xml to json converter is ideal for developers, data analysts, and anyone working with XML data for integration or analysis.
                </p>
            </article>
            <article class="mb-6">
                <h3 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-2">How to Use This Tool</h3>
                <p class="text-xs sm:text-sm md:text-base text-gray-600">
                    Select "Manual Input" to enter XML code or "Upload File" to upload an XML file. Click "Parse" to convert the XML to JSON. Use the "Copy Result" button to copy the parsed output, "Download" to save it as a JSON file, or "Reset" to clear the form. This online XML parser is secure, runs in your browser, and works on all devices for seamless parsing.
                </p>
            </article>
            <article class="mb-6">
                <h3 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-2">Why Use Our XML Parser Tool?</h3>
                <p class="text-xs sm:text-sm md:text-base text-gray-600">
                    Our XML parser is free, accurate, and user-friendly, perfect for converting XML to JSON or visualizing XML structure for development, debugging, or data processing. The copy-to-clipboard and download features, along with responsive design, ensure a smooth experience on any device. This online XML to JSON converter tool provides precise results for all your XML parsing needs.
                </p>
            </article>
        </section>

        <!-- Footer Section -->
        <footer class="mt-8 sm:mt-12">
            <a href="/" class="action-btn w-full bg-red-600 text-white font-semibold py-2 rounded-lg hover:bg-red-700 transition flex items-center justify-center text-xs sm:text-sm md:text-base">
                <i class="fas fa-home mr-2"></i>
                Go to Homepage
            </a>
        </footer>
    </div>

    <script>
        let mode = 'manual'; // Default mode: manual input

        function showPopup() {
            const popup = document.createElement('div');
            popup.className = 'copy-popup';
            popup.textContent = 'Copied!';
            document.body.appendChild(popup);
            setTimeout(() => popup.classList.add('show'), 10);
            setTimeout(() => {
                popup.classList.remove('show');
                setTimeout(() => popup.remove(), 300);
            }, 2000);
        }

        function validateXML(xml) {
            try {
                const parser = new DOMParser();
                const dom = parser.parseFromString(xml, 'application/xml');
                const parserError = dom.querySelector('parsererror');
                if (parserError) {
                    throw new Error('Invalid XML: ' + parserError.textContent);
                }
                return dom;
            } catch (e) {
                throw new Error('Invalid XML: ' + e.message);
            }
        }

        function xmlToJson(node) {
            let obj = {};

            // Handle attributes
            if (node.attributes && node.attributes.length > 0) {
                obj['@attributes'] = {};
                for (let attr of node.attributes) {
                    obj['@attributes'][attr.name] = attr.value;
                }
            }

            // Handle text content
            if (node.nodeType === Node.ELEMENT_NODE && node.childNodes.length === 1 && node.childNodes[0].nodeType === Node.TEXT_NODE) {
                obj['#text'] = node.childNodes[0].textContent.trim();
            }

            // Handle child nodes
            const children = Array.from(node.childNodes).filter(child => child.nodeType === Node.ELEMENT_NODE);
            if (children.length > 0) {
                children.forEach(child => {
                    const childName = child.nodeName;
                    const childObj = xmlToJson(child);

                    if (!obj[childName]) {
                        obj[childName] = childObj;
                    } else if (Array.isArray(obj[childName])) {
                        obj[childName].push(childObj);
                    } else {
                        obj[childName] = [obj[childName], childObj];
                    }
                });
            }

            return obj;
        }

        function processXML() {
            const inputText = document.getElementById('inputText').value;
            const resultText = document.getElementById('resultText');
            const errorMessage = document.getElementById('errorMessage');
            errorMessage.classList.add('hidden');

            if (mode === 'manual' && !inputText) {
                resultText.value = '';
                return;
            }

            try {
                if (mode === 'manual') {
                    const dom = validateXML(inputText);
                    const json = xmlToJson(dom.documentElement);
                    resultText.value = JSON.stringify(json, null, 2);
                }
            } catch (e) {
                errorMessage.textContent = `Error: ${e.message}`;
                errorMessage.classList.remove('hidden');
                resultText.value = '';
            }
        }

        function handleFileUpload(file) {
            const resultText = document.getElementById('resultText');
            const errorMessage = document.getElementById('errorMessage');
            errorMessage.classList.add('hidden');

            const reader = new FileReader();
            reader.onload = (e) => {
                try {
                    const xml = e.target.result;
                    const dom = validateXML(xml);
                    const json = xmlToJson(dom.documentElement);
                    resultText.value = JSON.stringify(json, null, 2);
                } catch (err) {
                    errorMessage.textContent = `Error: ${err.message}`;
                    errorMessage.classList.remove('hidden');
                    resultText.value = '';
                }
            };
            reader.onerror = () => {
                errorMessage.textContent = 'Error: Unable to read the file.';
                errorMessage.classList.remove('hidden');
                resultText.value = '';
            };
            reader.readAsText(file);
        }

        function downloadJSON(json) {
            if (!json) return;
            const blob = new Blob([json], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'parsed.json';
            link.click();
            URL.revokeObjectURL(url);
        }

        function toggleMode(newMode) {
            mode = newMode;
            const manualBtn = document.getElementById('manualBtn');
            const uploadBtn = document.getElementById('uploadBtn');
            const inputLabel = document.getElementById('inputLabel');
            const inputText = document.getElementById('inputText');
            const parseBtn = document.getElementById('parseBtn');

            if (mode === 'manual') {
                manualBtn.classList.add('active', 'bg-red-600', 'text-white');
                manualBtn.classList.remove('bg-blue-600');
                uploadBtn.classList.remove('active', 'bg-blue-600', 'text-white');
                uploadBtn.classList.add('bg-blue-600');
                inputLabel.textContent = 'Enter XML Code';
                inputText.classList.remove('hidden');
                parseBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                parseBtn.classList.add('bg-red-600', 'hover:bg-red-700');
                inputText.placeholder = 'Enter XML code (e.g., <?xml version="1.0"?><root><item>value</item></root>)';
            } else {
                uploadBtn.classList.add('active', 'bg-blue-600', 'text-white');
                uploadBtn.classList.remove('bg-red-600');
                manualBtn.classList.remove('active', 'bg-red-600', 'text-white');
                manualBtn.classList.add('bg-red-600');
                inputLabel.textContent = 'Upload XML File';
                inputText.classList.add('hidden');
                parseBtn.classList.remove('bg-red-600', 'hover:bg-red-700');
                parseBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                inputText.placeholder = '';
            }
            document.getElementById('resultText').value = '';
            document.getElementById('errorMessage').classList.add('hidden');
        }

        document.getElementById('manualBtn').addEventListener('click', () => toggleMode('manual'));
        document.getElementById('uploadBtn').addEventListener('click', () => {
            toggleMode('upload');
            document.getElementById('fileInput').click();
        });
        document.getElementById('fileInput').addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleFileUpload(e.target.files[0]);
            }
        });
        document.getElementById('parseBtn').addEventListener('click', processXML);
        document.getElementById('copyBtn').addEventListener('click', () => {
            const result = document.getElementById('resultText').value;
            if (result) {
                navigator.clipboard.writeText(result);
                showPopup();
            }
        });
        document.getElementById('downloadBtn').addEventListener('click', () => {
            const result = document.getElementById('resultText').value;
            if (result) {
                downloadJSON(result);
            }
        });
        document.getElementById('resetBtn').addEventListener('click', () => {
            document.getElementById('inputText').value = '';
            document.getElementById('fileInput').value = '';
            document.getElementById('resultText').value = '';
            document.getElementById('errorMessage').classList.add('hidden');
            toggleMode('manual');
        });
        document.getElementById('inputText').addEventListener('input', processXML);

        // Initialize manual mode
        toggleMode('manual');
    </script>
</body>
</html>
